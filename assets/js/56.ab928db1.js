(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{536:function(e,s,a){"use strict";a.r(s);var t=a(4),r=Object(t.a)({},(function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h2",{attrs:{id:"anaconda环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#anaconda环境"}},[e._v("#")]),e._v(" Anaconda环境")]),e._v(" "),a("p",[e._v("创建虚拟环境")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("conda create -n superset python=3.6 anaconda\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("后面加上anaconda，可以不用重复安装原有依赖包")]),e._v(" "),a("p",[e._v("激活")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("source activate superset\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("如果要退出，就用")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("source deactivate superset\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("安装")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("pip install superset -i https://pypi.douban.com/simple\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("p",[e._v("安装后验证")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("(superset) macdeMacBook-Air-2% conda list | grep superset\n# packages in environment at /Users/Hank/opt/anaconda3/envs/superset:\nsuperset                  0.30.1                   pypi_0    pypi\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br")])]),a("p",[e._v("进入安装包")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("cd D:\\Anaconda3\\Lib\\site-packages\\superset\ncd bin\npython superset\nfabmanager create-admin --app superset\npython superset db upgrade\npython superset load_examples\npython superset init\npython superset runserver -d\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br")])]),a("h3",{attrs:{id:"遇到的问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#遇到的问题"}},[e._v("#")]),e._v(" 遇到的问题")]),e._v(" "),a("p",[a("strong",[e._v("1.创建用户名和密码是报错")])]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("AttributeError: 'NoneType' object has no attribute 'auth_type'\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])]),a("h2",{attrs:{id:"docker环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker环境"}},[e._v("#")]),e._v(" Docker环境")]),e._v(" "),a("h3",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[e._v("#")]),e._v(" 安装")]),e._v(" "),a("p",[e._v("在镜像站中搜索与superset有关的镜像")]),e._v(" "),a("p",[a("code",[e._v("docker search superset")])]),e._v(" "),a("p",[e._v("拉取排在第一位的amancevice/superset")]),e._v(" "),a("p",[a("code",[e._v("docker pull amancevice/superset")])]),e._v(" "),a("p",[e._v("查看镜像")]),e._v(" "),a("p",[a("code",[e._v("docker images")])]),e._v(" "),a("h3",{attrs:{id:"运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#运行"}},[e._v("#")]),e._v(" 运行")]),e._v(" "),a("p",[e._v("在本地新建一个文件夹，我新建的文件夹为"),a("code",[e._v("D:/Data/sqlite")]),e._v("。稍后将这个文件夹映射给容器内的一个文件夹，让superset可以直接访问宿主机的数据文件。")]),e._v(" "),a("p",[e._v("需要注意的时，映射给docker容器的宿主机文件夹所在的驱动器要开启共享，可以在docker菜单中进行设置。")]),e._v(" "),a("p",[e._v("开启docker容器内的superset应用，开启的同时进行端口映射，并挂载宿主机的数据文件目录"),a("code",[e._v("D:/Data/sqlite")])]),e._v(" "),a("p",[a("code",[e._v("docker run -d -p 8088:8088 -v D:/Data/sqlite:/home/superset amancevice/superset")])]),e._v(" "),a("p",[e._v("成功开启后会返回一组字符串，即容器ID")]),e._v(" "),a("p",[e._v("查看开启的docker应用")]),e._v(" "),a("p",[a("code",[e._v("docker ps")])]),e._v(" "),a("h3",{attrs:{id:"初始化设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初始化设置"}},[e._v("#")]),e._v(" 初始化设置")]),e._v(" "),a("p",[e._v("复制容器ID，container的ID，稍后我们要在这个容器内执行一些命令来初始化superset应用。")]),e._v(" "),a("p",[e._v("设定用户名和密码")]),e._v(" "),a("p",[a("code",[e._v("docker exec -it c2fc56d845ea fabmanager create-admin --app superset")])]),e._v(" "),a("p",[e._v("创建默认角色和许可")]),e._v(" "),a("p",[a("code",[e._v("docker exec -it c2fc56d845ea superset init")])]),e._v(" "),a("p",[e._v("开启")]),e._v(" "),a("p",[a("code",[e._v("docker exec -it c2fc56d845ea superset runserver")])]),e._v(" "),a("p",[e._v("打开宿主浏览器，输入"),a("code",[e._v("http://localhost:8088")]),e._v(",用刚创建的用户名和密码登陆即可")]),e._v(" "),a("h3",{attrs:{id:"停止和开启superset服务"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#停止和开启superset服务"}},[e._v("#")]),e._v(" 停止和开启superset服务")]),e._v(" "),a("p",[e._v("列出运行的容器，找到运行superset的容器ID "),a("code",[e._v("docker ps")])]),e._v(" "),a("p",[e._v("停止 "),a("code",[e._v("docker stop 容器ID")])]),e._v(" "),a("p",[e._v("开启 "),a("code",[e._v("docker start 容器ID")])]),e._v(" "),a("h2",{attrs:{id:"源码安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#源码安装"}},[e._v("#")]),e._v(" 源码安装")]),e._v(" "),a("p",[e._v("克隆github源码到本地")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("git clone https://github.com/apache/incubator-superset/\ncd incubator-superset\n\ndocker-compose up\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br")])]),a("p",[e._v("配置完成后直接访问 "),a("code",[e._v("http://localhost:8088")]),e._v(" 即可")])])}),[],!1,null,null,null);s.default=r.exports}}]);